"use strict";(self.webpackChunkHAW_FED=self.webpackChunkHAW_FED||[]).push([[324],{1324:(I,d,i)=>{i.r(d),i.d(d,{IntroduccionModule:()=>Z});var l=i(6814),c=i(4840),e=i(4946);let m=(()=>{var t;class s{}return(t=s).\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-carrusel"]],decls:46,vars:0,consts:[[1,"text-center"],["id","carrusel",1,"carousel","slide","carousel-fade"],[1,"carousel-inner","p-4"],[1,"carousel-item","active"],[1,"card"],[1,"card-body"],[1,"card-text"],[1,"carousel-item"],["type","button","data-bs-target","#carrusel","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon","text-bg-info","rounded-pill"],[1,"visually-hidden"],["type","button","data-bs-target","#carrusel","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon","text-bg-info","rounded-pill"],[1,"carousel-indicators","text-bg-info","rounded"],["type","button","data-bs-target","#carrusel","data-bs-slide-to","0","aria-current","true","aria-label","Slide 1",1,"active"],["type","button","data-bs-target","#carrusel","data-bs-slide-to","1","aria-label","Slide 2"],["type","button","data-bs-target","#carrusel","data-bs-slide-to","2","aria-label","Slide 3"],["type","button","data-bs-target","#carrusel","data-bs-slide-to","3","aria-label","Slide 4"],["type","button","data-bs-target","#carrusel","data-bs-slide-to","4","aria-label","Slide 5"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"p",6),e._uU(7," Bienvenido a "),e._UZ(8,"br"),e.TgZ(9,"b"),e._uU(10,"Home Automation Wizard"),e.qZA(),e._uU(11,". Comencemos con la configuraci\xf3n inicial "),e.qZA()()()(),e.TgZ(12,"div",7)(13,"div",4)(14,"div",5)(15,"p",6),e._uU(16," En primer lugar, necesitas testear la conexi\xf3n al broker MQTT. "),e.qZA()()()(),e.TgZ(17,"div",7)(18,"div",4)(19,"div",5)(20,"p",6),e._uU(21," Pero...\xbfQu\xe9 es MQTT? \u{1f914} "),e.qZA()()()(),e.TgZ(22,"div",7)(23,"div",4)(24,"div",5)(25,"p",6),e._uU(26," En este caso, el broker es el servidor que facilita la comunicaci\xf3n entre los dispositivos que lo utilizan. "),e.qZA()()()(),e.TgZ(27,"div",7)(28,"div",4)(29,"div",5)(30,"p",6),e._uU(31," Para esto, es importante tener claro el funcionamiento b\xe1sico de este protocolo \u{1f913}\u261d\u{1f3fe} "),e.qZA()()()()(),e.TgZ(32,"button",8),e._UZ(33,"span",9),e.TgZ(34,"span",10),e._uU(35,"Previous"),e.qZA()(),e.TgZ(36,"button",11),e._UZ(37,"span",12),e.TgZ(38,"span",10),e._uU(39,"Next"),e.qZA()(),e.TgZ(40,"div",13),e._UZ(41,"button",14)(42,"button",15)(43,"button",16)(44,"button",17)(45,"button",18),e.qZA()()())},styles:[".card-body[_ngcontent-%COMP%]{height:140px;display:flex;align-items:center;justify-content:center}.card[_ngcontent-%COMP%]{margin:25px}"]}),s})();var g=i(2954);function h(t,s){if(1&t){const a=e.EpF();e.TgZ(0,"div",8)(1,"h5",9),e._uU(2),e.qZA(),e.TgZ(3,"button",10),e.NdJ("click",function(){e.CHM(a);const n=e.oxw();return e.KtG(n.onCloseModal())}),e.qZA()()}if(2&t){const a=e.oxw();e.xp6(2),e.Oqu(a.data.titulo),e.xp6(1),e.Q6J("hidden",a.mostrarFooter)}}let u=(()=>{var t;class s{constructor(){this.displayStyle="",this.closeModal=new e.vpe,this.mostrarFooter=!1,this.link="",this.hayLink=!1}onCloseModal(){this.closeModal.emit()}ngOnInit(){var o=document.getElementById("contenidoModal");o&&("success"===this.displayStyle?(o.classList.add("text-white"),o.classList.add("bg-success"),this.mostrarFooter=!0):"error"===this.displayStyle&&(o.classList.add("text-white"),o.classList.add("bg-danger"),this.mostrarFooter=!0)),this.data?.link?"none"!=this.data.link?(this.mostrarFooter=!0,this.link=this.data.link,this.hayLink=!0):(this.mostrarFooter=!0,this.hayLink=!1):this.mostrarFooter=!0}}return(t=s).\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-modal-texto"]],inputs:{data:"data",displayStyle:"displayStyle"},outputs:{closeModal:"closeModal"},decls:12,vars:6,consts:[["tabindex","-1",1,"modal"],[1,"modal-dialog",2,"margin","30px"],["id","contenidoModal",1,"modal-content"],["class","modal-header",4,"ngIf"],[1,"modal-body"],[1,"modal-footer",3,"hidden"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"hidden","routerLink"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"hidden","click"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"hidden","click"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,h,4,2,"div",3),e.TgZ(4,"div",4)(5,"p"),e._uU(6),e.qZA()(),e.TgZ(7,"div",5)(8,"button",6),e._uU(9,"Continuar"),e.qZA(),e.TgZ(10,"button",7),e.NdJ("click",function(){return n.onCloseModal()}),e._uU(11,"Continuar"),e.qZA()()()()()),2&o&&(e.xp6(3),e.Q6J("ngIf",n.data.titulo),e.xp6(3),e.Oqu(n.data.texto),e.xp6(1),e.Q6J("hidden",!n.mostrarFooter),e.xp6(1),e.Q6J("hidden",!n.hayLink)("routerLink",n.link),e.xp6(2),e.Q6J("hidden",n.hayLink))},dependencies:[l.O5,c.rH],styles:[".modal[_ngcontent-%COMP%]{display:block;background-color:#8b20593d}.success[_ngcontent-%COMP%]{background-color:#0f0}.error[_ngcontent-%COMP%]{background-color:red}"]}),s})();function x(t,s){if(1&t){const a=e.EpF();e.TgZ(0,"app-modal-texto",5),e.NdJ("closeModal",function(){e.CHM(a);const n=e.oxw();return e.KtG(n.setSelectedItem(null))}),e.qZA()}if(2&t){const a=e.oxw();e.Q6J("data",a.selectedItem)}}const p_informacion=[{titulo:"Conexi\xf3n Inicial",subtitulo:"Paso 1",texto:"Un dispositivo (llamado cliente) se conecta a un servidor MQTT."},{titulo:"Solicitud de Suscripci\xf3n",subtitulo:"Paso 2",texto:"El cliente le dice al servidor a qu\xe9 temas o canales quiere suscribirse para recibir informaci\xf3n."},{titulo:"Publicaci\xf3n de Mensajes",subtitulo:"Paso 3",texto:"Otros dispositivos (llamados editores) env\xedan mensajes al servidor, etiquetados con un tema espec\xedfico."},{titulo:"Entrega de Mensajes",subtitulo:"Paso 4",texto:"El servidor reenv\xeda los mensajes a los clientes suscritos a esos temas."},{titulo:"Desconexi\xf3n",subtitulo:"Paso 5",texto:"Cuando un cliente ya no necesita comunicarse, se desconecta del servidor."}],p_extra={texto:"Estos pasos permiten que los dispositivos se comuniquen y se mantengan actualizados sobre la informaci\xf3n que les interesa."};let b=(()=>{var t;class s{constructor(){this.selectedItem=null,this.informacion=p_informacion,this.extra=p_extra}ngOnInit(){this.extra.link="none",this.setSelectedItem(this.extra)}cssClassByIndex(o){return"collapse"+o}setSelectedItem(o){this.selectedItem=o}}return(t=s).\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-menu-info"]],inputs:{opciones:"opciones"},decls:6,vars:2,consts:[[1,"row","gy-3","row-cols-1","m-2"],[1,"col"],[1,"text-uppercase","text-info","text-center","text-xm","mt-1","mb-0","h6"],[3,"informacion"],[3,"data","closeModal",4,"ngIf"],[3,"data","closeModal"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3," Funcionamiento y Pasos dentro de la conexion de MQTT "),e.qZA()(),e._UZ(4,"app-info-desplegable",3),e.qZA(),e.YNc(5,x,1,1,"app-modal-texto",4)),2&o&&(e.xp6(4),e.Q6J("informacion",n.informacion),e.xp6(1),e.Q6J("ngIf",n.selectedItem))},dependencies:[l.O5,g._,u]}),s})(),v=(()=>{var t;class s{}return(t=s).\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-imagen-explicativa"]],decls:2,vars:0,template:function(o,n){1&o&&(e.TgZ(0,"p"),e._uU(1,"imagen-explicativa works!"),e.qZA())}}),s})();var f=i(5861),_=i(7065);function y(t,s){if(1&t){const a=e.EpF();e.TgZ(0,"app-modal-texto",7),e.NdJ("closeModal",function(){e.CHM(a);const n=e.oxw();return e.KtG(n.setSelectedMessage(!1,n.displayStyle))}),e.qZA()}if(2&t){const a=e.oxw();e.Q6J("data",a.attrMensaje)("displayStyle",a.displayStyle)}}const M=[{path:"1",component:m},{path:"2",component:b},{path:"3",component:v},{path:"4",component:(()=>{var t;class s{constructor(o,n){this._mqttService=o,this.messages=["Testeando conexi\xf3n...","Creando suscripci\xf3n al t\xf3pico: /test-result...","Publicando mensaje de testeo al t\xf3pico: /test-mqtt...","Verificando recepci\xf3n de mensaje...","Finalizando..."],this.currentMessageIndex=0,this.progressValue=0,this.isLoading=!0,this.mostrarBoton=!1,this.displayStyle="none",this.hayMensaje=!1}ngOnInit(){this.initLoading()}initLoading(){var o=this;this.currentMessageIndex=0,this.progressValue=0,this.isLoading=!0,this.test_result=null,this._mqttService.testMqttProtocol().subscribe(function(){var n=(0,f.Z)(function*(r){setTimeout(()=>{o.test_result=r},1500)});return function(r){return n.apply(this,arguments)}}()),this.startLoading(this.test_result)}startLoading(o){const r=setInterval(()=>{this.progressValue+=24,this.progressValue>=100?(clearInterval(r),this.displayStyle="success",this.hayMensaje=!0,this.attrMensaje={titulo:"\xc9xito",texto:"La conexi\xf3n con el broker MQTT se ha establecido correctamente.",link:"/aplicacion"}):(this.currentMessageIndex++,this.currentMessageIndex>=this.messages.length&&(this.currentMessageIndex=0))},2e3)}setSelectedMessage(o,n){this.hayMensaje=o,this.progressValue=0,"error"===n&&(this.mostrarBoton=!0)}}return(t=s).\u0275fac=function(o){return new(o||t)(e.Y36(_.G),e.Y36(c.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-testeo"]],decls:10,vars:7,consts:[[1,"test-container"],[1,"text-center"],[1,"progress"],["role","progressbar","aria-valuenow","50%","aria-valuemin","0","aria-valuemax","100","aria-label","20px",1,"progress-bar","progress-bar-striped","bg-warning"],[1,"pt-4","position-absolute","top-50","start-50","translate-middle",3,"hidden"],["type","button",1,"btn","btn-warning",3,"disabled","click"],[3,"data","displayStyle","closeModal",4,"ngIf"],[3,"data","displayStyle","closeModal"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2"),e._uU(3),e.qZA()(),e.TgZ(4,"div",2),e._UZ(5,"div",3),e.qZA(),e.TgZ(6,"div",4)(7,"button",5),e.NdJ("click",function(){return n.initLoading()}),e._uU(8," Intentar nuevamente"),e.qZA()()(),e.YNc(9,y,1,2,"app-modal-texto",6)),2&o&&(e.xp6(3),e.Oqu(n.messages[n.currentMessageIndex]),e.xp6(2),e.Jzz("width:",n.progressValue,"%;"),e.xp6(1),e.Q6J("hidden",!n.mostrarBoton),e.xp6(1),e.Q6J("disabled",!n.mostrarBoton),e.xp6(2),e.Q6J("ngIf",n.hayMensaje))},dependencies:[l.O5,u],styles:[".test-container[_ngcontent-%COMP%]{margin:10%}.text-center[_ngcontent-%COMP%]{height:100px}"]}),s})()}];let T=(()=>{var t;class s{}return(t=s).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[c.Bz.forChild(M),c.Bz]}),s})();var C=i(8347);let Z=(()=>{var t;class s{}return(t=s).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[l.ez,T,C.w]}),s})()}}]);